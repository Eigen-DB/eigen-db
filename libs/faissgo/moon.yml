type: 'library'
language: 'go'

project:
  name: 'faissgo'
  description: 'A Go wrapper for Faiss'
  owner: '@ryan-awad'
  maintainers:
    - '@ryan-awad'

tasks:
  build:
    command: 'docker build -t faissgo .' 

  test:
    command: 'docker run -it faissgo \"go test ./... -count=1\"'
    deps:
      - 'faissgo:build'

  lint:
    command: 'proto run golangci-lint -- run --allow-parallel-runners'
    options:
      runInCI: false # go linters are ran differently in CI
    inputs:
      - '/libs/faissgo/**/*.go'
